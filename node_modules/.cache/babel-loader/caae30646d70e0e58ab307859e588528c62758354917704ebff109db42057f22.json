{"ast":null,"code":"import _toConsumableArray from \"C:/Users/mayan/source/repos/mayankcse.github.io/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\n/**\r\n * @typedef {import('mdast').BlockContent} BlockContent\r\n * @typedef {import('mdast').FootnoteDefinition} FootnoteDefinition\r\n * @typedef {import('mdast').Link} Link\r\n * @typedef {import('mdast').ListItem} ListItem\r\n * @typedef {import('mdast').Paragraph} Paragraph\r\n * @typedef {import('./index.js').H} H\r\n */\n\nimport { thematicBreak } from './handlers/thematic-break.js';\nimport { list } from './handlers/list.js';\nimport { wrap } from './wrap.js';\n\n/**\r\n * @param {H} h\r\n */\nexport function footer(h) {\n  var footnoteById = h.footnoteById;\n  var footnoteOrder = h.footnoteOrder;\n  var index = -1;\n  /** @type {Array.<ListItem>} */\n  var listItems = [];\n  while (++index < footnoteOrder.length) {\n    var def = footnoteById[footnoteOrder[index].toUpperCase()];\n    if (!def) {\n      continue;\n    }\n    var marker = String(index + 1);\n    var content = _toConsumableArray(def.children);\n    /** @type {Link} */\n    var backReference = {\n      type: 'link',\n      url: '#fnref' + marker,\n      data: {\n        hProperties: {\n          className: ['footnote-back'],\n          role: 'doc-backlink'\n        }\n      },\n      children: [{\n        type: 'text',\n        value: '↩'\n      }]\n    };\n    var tail = content[content.length - 1];\n    if (tail && tail.type === 'paragraph') {\n      tail.children.push(backReference);\n    } else {\n      // @ts-expect-error Indeed, link directly added in block content.\n      // Which we do because that way at least the handlers will be called\n      // for the other HTML we’re generating (as markdown).\n      content.push(backReference);\n    }\n    listItems.push({\n      type: 'listItem',\n      data: {\n        hProperties: {\n          id: 'fn' + marker,\n          role: 'doc-endnote'\n        }\n      },\n      children: content,\n      position: def.position\n    });\n  }\n  if (listItems.length === 0) {\n    return null;\n  }\n  return h(null, 'section', {\n    className: ['footnotes'],\n    role: 'doc-endnotes'\n  }, wrap([thematicBreak(h), list(h, {\n    type: 'list',\n    ordered: true,\n    children: listItems\n  })], true));\n}","map":{"version":3,"names":["thematicBreak","list","wrap","footer","h","footnoteById","footnoteOrder","index","listItems","length","def","toUpperCase","marker","String","content","_toConsumableArray","children","backReference","type","url","data","hProperties","className","role","value","tail","push","id","position","ordered"],"sources":["C:/Users/mayan/source/repos/mayankcse.github.io/node_modules/mdast-util-to-hast/lib/footer.js"],"sourcesContent":["/**\r\n * @typedef {import('mdast').BlockContent} BlockContent\r\n * @typedef {import('mdast').FootnoteDefinition} FootnoteDefinition\r\n * @typedef {import('mdast').Link} Link\r\n * @typedef {import('mdast').ListItem} ListItem\r\n * @typedef {import('mdast').Paragraph} Paragraph\r\n * @typedef {import('./index.js').H} H\r\n */\r\n\r\nimport {thematicBreak} from './handlers/thematic-break.js'\r\nimport {list} from './handlers/list.js'\r\nimport {wrap} from './wrap.js'\r\n\r\n/**\r\n * @param {H} h\r\n */\r\nexport function footer(h) {\r\n  const footnoteById = h.footnoteById\r\n  const footnoteOrder = h.footnoteOrder\r\n  let index = -1\r\n  /** @type {Array.<ListItem>} */\r\n  const listItems = []\r\n\r\n  while (++index < footnoteOrder.length) {\r\n    const def = footnoteById[footnoteOrder[index].toUpperCase()]\r\n\r\n    if (!def) {\r\n      continue\r\n    }\r\n\r\n    const marker = String(index + 1)\r\n    const content = [...def.children]\r\n    /** @type {Link} */\r\n    const backReference = {\r\n      type: 'link',\r\n      url: '#fnref' + marker,\r\n      data: {hProperties: {className: ['footnote-back'], role: 'doc-backlink'}},\r\n      children: [{type: 'text', value: '↩'}]\r\n    }\r\n    const tail = content[content.length - 1]\r\n\r\n    if (tail && tail.type === 'paragraph') {\r\n      tail.children.push(backReference)\r\n    } else {\r\n      // @ts-expect-error Indeed, link directly added in block content.\r\n      // Which we do because that way at least the handlers will be called\r\n      // for the other HTML we’re generating (as markdown).\r\n      content.push(backReference)\r\n    }\r\n\r\n    listItems.push({\r\n      type: 'listItem',\r\n      data: {hProperties: {id: 'fn' + marker, role: 'doc-endnote'}},\r\n      children: content,\r\n      position: def.position\r\n    })\r\n  }\r\n\r\n  if (listItems.length === 0) {\r\n    return null\r\n  }\r\n\r\n  return h(\r\n    null,\r\n    'section',\r\n    {className: ['footnotes'], role: 'doc-endnotes'},\r\n    wrap(\r\n      [\r\n        thematicBreak(h),\r\n        list(h, {type: 'list', ordered: true, children: listItems})\r\n      ],\r\n      true\r\n    )\r\n  )\r\n}\r\n"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAQA,aAAa,QAAO,8BAA8B;AAC1D,SAAQC,IAAI,QAAO,oBAAoB;AACvC,SAAQC,IAAI,QAAO,WAAW;;AAE9B;AACA;AACA;AACA,OAAO,SAASC,MAAMA,CAACC,CAAC,EAAE;EACxB,IAAMC,YAAY,GAAGD,CAAC,CAACC,YAAY;EACnC,IAAMC,aAAa,GAAGF,CAAC,CAACE,aAAa;EACrC,IAAIC,KAAK,GAAG,CAAC,CAAC;EACd;EACA,IAAMC,SAAS,GAAG,EAAE;EAEpB,OAAO,EAAED,KAAK,GAAGD,aAAa,CAACG,MAAM,EAAE;IACrC,IAAMC,GAAG,GAAGL,YAAY,CAACC,aAAa,CAACC,KAAK,CAAC,CAACI,WAAW,CAAC,CAAC,CAAC;IAE5D,IAAI,CAACD,GAAG,EAAE;MACR;IACF;IAEA,IAAME,MAAM,GAAGC,MAAM,CAACN,KAAK,GAAG,CAAC,CAAC;IAChC,IAAMO,OAAO,GAAAC,kBAAA,CAAOL,GAAG,CAACM,QAAQ,CAAC;IACjC;IACA,IAAMC,aAAa,GAAG;MACpBC,IAAI,EAAE,MAAM;MACZC,GAAG,EAAE,QAAQ,GAAGP,MAAM;MACtBQ,IAAI,EAAE;QAACC,WAAW,EAAE;UAACC,SAAS,EAAE,CAAC,eAAe,CAAC;UAAEC,IAAI,EAAE;QAAc;MAAC,CAAC;MACzEP,QAAQ,EAAE,CAAC;QAACE,IAAI,EAAE,MAAM;QAAEM,KAAK,EAAE;MAAG,CAAC;IACvC,CAAC;IACD,IAAMC,IAAI,GAAGX,OAAO,CAACA,OAAO,CAACL,MAAM,GAAG,CAAC,CAAC;IAExC,IAAIgB,IAAI,IAAIA,IAAI,CAACP,IAAI,KAAK,WAAW,EAAE;MACrCO,IAAI,CAACT,QAAQ,CAACU,IAAI,CAACT,aAAa,CAAC;IACnC,CAAC,MAAM;MACL;MACA;MACA;MACAH,OAAO,CAACY,IAAI,CAACT,aAAa,CAAC;IAC7B;IAEAT,SAAS,CAACkB,IAAI,CAAC;MACbR,IAAI,EAAE,UAAU;MAChBE,IAAI,EAAE;QAACC,WAAW,EAAE;UAACM,EAAE,EAAE,IAAI,GAAGf,MAAM;UAAEW,IAAI,EAAE;QAAa;MAAC,CAAC;MAC7DP,QAAQ,EAAEF,OAAO;MACjBc,QAAQ,EAAElB,GAAG,CAACkB;IAChB,CAAC,CAAC;EACJ;EAEA,IAAIpB,SAAS,CAACC,MAAM,KAAK,CAAC,EAAE;IAC1B,OAAO,IAAI;EACb;EAEA,OAAOL,CAAC,CACN,IAAI,EACJ,SAAS,EACT;IAACkB,SAAS,EAAE,CAAC,WAAW,CAAC;IAAEC,IAAI,EAAE;EAAc,CAAC,EAChDrB,IAAI,CACF,CACEF,aAAa,CAACI,CAAC,CAAC,EAChBH,IAAI,CAACG,CAAC,EAAE;IAACc,IAAI,EAAE,MAAM;IAAEW,OAAO,EAAE,IAAI;IAAEb,QAAQ,EAAER;EAAS,CAAC,CAAC,CAC5D,EACD,IACF,CACF,CAAC;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}